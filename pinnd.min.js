var pinnd=function(a){var c=null;var h=null;var e={placeholder:"pinnd-placeholder",pinnedtop:"pinnd-top",pinnedbottom:"pinnd-bottom"};var b={selector:".pinnd",offset:0,context:"body",zindex:5};var d=[];var g=$(window);var i={init:function(j){$.extend(b,j);$(b.selector).each(function(){var k={};k.status="home";k.jq=$(this);k.context=(k.jq.parents(b.context).length)?k.jq.parents(b.context):$(document);k.styles=k.jq.attr("style");i.setup(k);i.check(k);d.push(k)});f.enable();return f},scroll:function(){for(var k=0,j=d.length;k<j;k++){var m=d[k];i.check(m)}},resize:function(){clearInterval(h);h=setTimeout(function(){for(var k=0,j=d.length;k<j;k++){var m=d[k];i.reset(m);if(c){i.check(m)}}},300)},setup:function(j){j.ph=i.getPlaceholder(j);j.jq.wrap(j.ph);i.setPinPoints(j)},reset:function(j){j.jq.unwrap(j.ph);j.ph=null;i.unpin(j);i.setup(j)},getPlaceholder:function(j){var k=j.ph||$("<div />").addClass(e.placeholder);k.css(j.jq.css(["float","position","clear","display"]));k.css({height:j.jq.outerHeight(true),width:j.jq.outerWidth(true)});return k},setPinPoints:function(j){j.min=(j.status=="home")?j.jq.offset().top-b.offset:j.ph.offset().top-b.offset;j.max=(j.context.offset().top+j.context.outerHeight(true))-(j.jq.outerHeight(true)+b.offset)},check:function(j){switch(true){case (g.scrollTop()<=j.min):i.unpin(j);break;case (g.scrollTop()>=j.max):i.pinToBottom(j);break;default:i.pinToTop(j);break}},pinToTop:function(j){if(j.status=="pinned-top"){return false}j.status="pinned-top";j.jq.css({position:"fixed",height:j.jq.height(),width:j.jq.width(),top:b.offset,"z-index":b.zindex});j.jq.removeClass(e.pinnedbottom).addClass(e.pinnedtop);if(typeof b.onpintop=="function"){b.onpintop(j.jq)}},pinToBottom:function(j){if(j.status=="pinned-bottom"){return false}if(j.status!="pinned-top"){i.pinToTop(j)}j.status="pinned-bottom";j.jq.css({position:"absolute",top:"auto",bottom:0});j.jq.removeClass(e.pinnedtop).addClass(e.pinnedbottom);if(typeof b.onpinbottom=="function"){b.onpinbottom(j.jq)}},unpin:function(j){if(j.status=="home"){return false}j.status="home";j.jq.removeAttr("style").attr("style",j.styles);j.jq.removeClass(e.pinnedtop).removeClass(e.pinnedbottom);if(typeof b.onunpin=="function"){b.onunpin(j.jq)}}};var f={enable:function(){c=true;g.on("scroll",i.scroll);g.on("resize",i.resize);i.scroll()},disable:function(){c=false;g.off("scroll",i.scroll);for(var k=0,j=d.length;k<j;k++){var m=d[k];i.reset(m)}}};return i.init(a)};